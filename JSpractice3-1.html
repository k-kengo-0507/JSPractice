<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
  <title>JS課題③-1</title>
  </head>
  <body>
  <h1>ToDoリスト</h1>
  <form>
    <input type="radio" name="task-status" value="すべて">すべて
    <input type="radio" name="task-status" value="完了">完了
    <input type="radio" name="task-status" value="削除">削除
  </form>
  <table>
    <thead>
        <th>ID</th>
        <th>コメント</th>
        <th>状態</th>
    </thead>
    <tbody class="addTask-target"></tbody>
  </table>
  <h2>新規タスクの追加</h2>
    <input class="addTask-value" type="text" name="task-name">
    <button class="addTask-trigger" type="button">追加</button>
  
  <script>
const addTaskTrigger = document.getElementsByClassName('addTask-trigger')[0];
const addTaskTarget = document.getElementsByClassName('addTask-target')[0];
const addTaskValue = document.getElementsByClassName('addTask-value')[0];

let nextId = 0;
const addTask = (task,id) => {
  
  const tableItem = document.createElement('tr');
  const addButtonTd = document.createElement('td');
  const addButton = document.createElement('button');
  const removeButtonTd = document.createElement('td');
  const removeButton = document.createElement('button');
  addButton.textContent = '作業中';
  removeButton.textContent = '削除';
  
  const idSpan = document.createElement('span');
  idSpan.textContent = id;
  const idSpanTd = document.createElement('td');
  idSpanTd.append(idSpan);
  
  const taskSpan = document.createElement('span');
  const taskSpanTd = document.createElement('td');
  taskSpan.textContent = task;
  taskSpanTd.append(taskSpan);
  
  addButtonTd.append(addButton);
  removeButtonTd.append(removeButton);
  
  tableItem.append(idSpanTd);
  tableItem.append(taskSpanTd);
  tableItem.append(addButtonTd);
  tableItem.append(removeButtonTd);
  
  addTaskTarget.appendChild(tableItem);
  };

  addTaskTrigger.addEventListener('click',event => {
  const task = addTaskValue.value;
  addTask(task,nextId ++);
  addTaskValue.value = '';
  });
  </script>
  </body>
</html>